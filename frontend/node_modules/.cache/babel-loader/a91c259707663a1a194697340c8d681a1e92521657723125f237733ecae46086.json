{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\katia\\\\Desktop\\\\portfolio-web\\\\frontend\\\\src\\\\components\\\\TrabalhoCard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Card, Button, Badge } from 'react-bootstrap';\nimport { votar, verificarVoto } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction TrabalhoCard({\n  trabalho,\n  onVotoRealizado\n}) {\n  _s();\n  const [jaVotou, setJaVotou] = useState(false);\n  const [votando, setVotando] = useState(false);\n  useEffect(() => {\n    verificarSeVotou();\n  }, [trabalho.id]);\n  const verificarSeVotou = async () => {\n    try {\n      const response = await verificarVoto(trabalho.id);\n      setJaVotou(response.data.ja_votou);\n    } catch (error) {\n      console.error('Erro ao verificar voto:', error);\n    }\n  };\n  const handleVotar = async () => {\n    if (jaVotou || votando) return;\n    setVotando(true);\n    try {\n      await votar(trabalho.id);\n      setJaVotou(true);\n      if (onVotoRealizado) onVotoRealizado();\n      alert('Voto registrado com sucesso!');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.erro) || 'Erro ao votar');\n    } finally {\n      setVotando(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"h-100 shadow-sm\",\n    children: [trabalho.imagem_url && /*#__PURE__*/_jsxDEV(Card.Img, {\n      variant: \"top\",\n      src: trabalho.imagem_url,\n      style: {\n        height: '200px',\n        objectFit: 'cover'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n      className: \"d-flex flex-column\",\n      children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n        children: trabalho.titulo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Subtitle, {\n        className: \"mb-2 text-muted\",\n        children: [\"Por: \", trabalho.aluno_nome]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n        className: \"flex-grow-1\",\n        children: trabalho.descricao\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Badge, {\n          bg: \"primary\",\n          className: \"me-2\",\n          children: trabalho.area.replace('_', ' ')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), trabalho.bimestre && /*#__PURE__*/_jsxDEV(Badge, {\n          bg: \"secondary\",\n          children: [trabalho.bimestre, \"\\xBA Bimestre\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [\"\\u2764\\uFE0F \", trabalho.total_votos]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), \" votos\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [trabalho.link_projeto && /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline-primary\",\n            size: \"sm\",\n            href: trabalho.link_projeto,\n            target: \"_blank\",\n            className: \"me-2\",\n            children: \"Ver Projeto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: jaVotou ? \"secondary\" : \"success\",\n            size: \"sm\",\n            onClick: handleVotar,\n            disabled: jaVotou || votando,\n            children: jaVotou ? '✓ Votado' : 'Votar'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(TrabalhoCard, \"ZVC3J/BbVEEsKyFork4pZ6N9zdg=\");\n_c = TrabalhoCard;\nexport default TrabalhoCard;\nvar _c;\n$RefreshReg$(_c, \"TrabalhoCard\");","map":{"version":3,"names":["React","useState","useEffect","Card","Button","Badge","votar","verificarVoto","jsxDEV","_jsxDEV","TrabalhoCard","trabalho","onVotoRealizado","_s","jaVotou","setJaVotou","votando","setVotando","verificarSeVotou","id","response","data","ja_votou","error","console","handleVotar","alert","_error$response","_error$response$data","erro","className","children","imagem_url","Img","variant","src","style","height","objectFit","fileName","_jsxFileName","lineNumber","columnNumber","Body","Title","titulo","Subtitle","aluno_nome","Text","descricao","bg","area","replace","bimestre","total_votos","link_projeto","size","href","target","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/katia/Desktop/portfolio-web/frontend/src/components/TrabalhoCard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Card, Button, Badge } from 'react-bootstrap';\r\nimport { votar, verificarVoto } from '../services/api';\r\n\r\nfunction TrabalhoCard({ trabalho, onVotoRealizado }) {\r\n  const [jaVotou, setJaVotou] = useState(false);\r\n  const [votando, setVotando] = useState(false);\r\n\r\n  useEffect(() => {\r\n    verificarSeVotou();\r\n  }, [trabalho.id]);\r\n\r\n  const verificarSeVotou = async () => {\r\n    try {\r\n      const response = await verificarVoto(trabalho.id);\r\n      setJaVotou(response.data.ja_votou);\r\n    } catch (error) {\r\n      console.error('Erro ao verificar voto:', error);\r\n    }\r\n  };\r\n\r\n  const handleVotar = async () => {\r\n    if (jaVotou || votando) return;\r\n\r\n    setVotando(true);\r\n    try {\r\n      await votar(trabalho.id);\r\n      setJaVotou(true);\r\n      if (onVotoRealizado) onVotoRealizado();\r\n      alert('Voto registrado com sucesso!');\r\n    } catch (error) {\r\n      alert(error.response?.data?.erro || 'Erro ao votar');\r\n    } finally {\r\n      setVotando(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className=\"h-100 shadow-sm\">\r\n      {trabalho.imagem_url && (\r\n        <Card.Img \r\n          variant=\"top\" \r\n          src={trabalho.imagem_url} \r\n          style={{ height: '200px', objectFit: 'cover' }}\r\n        />\r\n      )}\r\n      <Card.Body className=\"d-flex flex-column\">\r\n        <Card.Title>{trabalho.titulo}</Card.Title>\r\n        <Card.Subtitle className=\"mb-2 text-muted\">\r\n          Por: {trabalho.aluno_nome}\r\n        </Card.Subtitle>\r\n        <Card.Text className=\"flex-grow-1\">\r\n          {trabalho.descricao}\r\n        </Card.Text>\r\n        \r\n        <div className=\"mb-3\">\r\n          <Badge bg=\"primary\" className=\"me-2\">\r\n            {trabalho.area.replace('_', ' ')}\r\n          </Badge>\r\n          {trabalho.bimestre && (\r\n            <Badge bg=\"secondary\">\r\n              {trabalho.bimestre}º Bimestre\r\n            </Badge>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"d-flex justify-content-between align-items-center\">\r\n          <div>\r\n            <strong>❤️ {trabalho.total_votos}</strong> votos\r\n          </div>\r\n          <div>\r\n            {trabalho.link_projeto && (\r\n              <Button \r\n                variant=\"outline-primary\" \r\n                size=\"sm\" \r\n                href={trabalho.link_projeto}\r\n                target=\"_blank\"\r\n                className=\"me-2\"\r\n              >\r\n                Ver Projeto\r\n              </Button>\r\n            )}\r\n            <Button\r\n              variant={jaVotou ? \"secondary\" : \"success\"}\r\n              size=\"sm\"\r\n              onClick={handleVotar}\r\n              disabled={jaVotou || votando}\r\n            >\r\n              {jaVotou ? '✓ Votado' : 'Votar'}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default TrabalhoCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}